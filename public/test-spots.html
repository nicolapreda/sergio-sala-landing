<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Spots Counter</title>
    <script src="./assets/spots-counter.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .test-container { background: white; padding: 20px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .spots-display { font-size: 24px; font-weight: bold; color: #e74c3c; }
        .debug-info { background: #2c3e50; color: white; padding: 15px; border-radius: 5px; font-family: monospace; }
        button { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        button:hover { background: #2980b9; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Test Contatore Posti Disponibili</h1>
    
    <div class="test-container">
        <h2>ğŸ“Š Risultati Attuali</h2>
        <p>Posti disponibili: <span id="spotsLeft" class="spots-display">20</span></p>
        <p>Posti nel form: <span id="spotsLeftForm" class="spots-display">20</span></p>
        <p>Testo dinamico: <span data-spots-text="Rimangono {spots} posti">Rimangono 20 posti</span></p>
    </div>

    <div class="test-container">
        <h2>ğŸ”§ Controlli Test</h2>
        <button onclick="window.SpotsCounter.updateSpotsDisplay()">ğŸ”„ Aggiorna Display</button>
        <button onclick="window.SpotsCounter.debugSpotsInfo()">ğŸ› Mostra Debug</button>
        <button onclick="testDifferentDays()">ğŸ“… Test Altri Giorni</button>
    </div>

    <div class="test-container">
        <h2>ğŸ“… Simulazione Giorni del Mese</h2>
        <p><strong>âš ï¸ IMPORTANTE:</strong> Il conteggio scalato si attiva solo a <strong>settembre 2025</strong></p>
        <p>Attualmente siamo ad <strong>agosto 2025</strong>, quindi i posti rimangono fissi a <strong>20</strong></p>
        <div id="daySimulation"></div>
    </div>

    <div class="test-container">
        <h2>ğŸ–¥ï¸ Console Debug</h2>
        <div class="debug-info" id="debugOutput">
            Apri la console del browser (F12) per vedere le informazioni di debug...
        </div>
    </div>

    <script>
        function testDifferentDays() {
            const simulation = document.getElementById('daySimulation');
            let html = '<h3>ğŸ“‹ Tabella Posti per Settembre 2025:</h3>';
            html += '<p style="color: #7f8c8d; font-style: italic;">Questa Ã¨ la scalata che si attiverÃ  automaticamente a settembre:</p>';
            html += '<table style="width:100%; border-collapse: collapse;">';
            html += '<tr style="background:#34495e; color:white;"><th style="padding:8px; border:1px solid #ddd;">Giorni di Settembre</th><th style="padding:8px; border:1px solid #ddd;">Posti Disponibili</th></tr>';
            
            const ranges = [
                {days: '1-10', spots: 20},
                {days: '11-15', spots: 15}, 
                {days: '16-20', spots: 7},
                {days: '21-23', spots: 5},
                {days: '24-28', spots: 3},
                {days: '29-30', spots: 1}
            ];
            
            ranges.forEach(range => {
                html += `<tr><td style="padding:8px; border:1px solid #ddd;">${range.days}</td><td style="padding:8px; border:1px solid #ddd; text-align:center; font-weight:bold; color:#e74c3c;">${range.spots}</td></tr>`;
            });
            
            html += '</table>';
            html += '<p style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-left: 4px solid #3498db; color: #2c3e50;"><strong>Stato attuale:</strong> Prima di settembre 2025, i posti rimangono sempre a 20.</p>';
            simulation.innerHTML = html;
            
            console.log('ğŸ§ª Test completato - vedi tabella sopra');
            console.log('ğŸ“ Ricorda: il conteggio scalato si attiverÃ  automaticamente a settembre 2025');
        }

        // Esegui test iniziale quando la pagina si carica
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                testDifferentDays();
                window.SpotsCounter.debugSpotsInfo();
            }, 500);
        });
    </script>
</body>
</html>
